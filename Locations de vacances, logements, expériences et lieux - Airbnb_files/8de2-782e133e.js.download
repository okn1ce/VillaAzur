(window.webpackJsonp=window.webpackJsonp||[]).push([["8de2","12da"],{"4OSB":function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return i});a("GtZL");function n(e,t){return"function"!=typeof e?e:e(t)}function i(e,t){if("object"===babelHelpers.typeof(e))return e;if("function"==typeof e){var a=e(t);return"object"!==babelHelpers.typeof(a)&&void 0!==a?void 0:a}}},GS5Z:function(e,t,a){"use strict";a.d(t,"a",function(){return h}),a.d(t,"b",function(){return v});var n=a("tl9J"),i=a.n(n),r=a("Ty5D"),o=a("GtZL"),s=a("KqEl"),c=a.n(s),u="jitney_page_name_",d=36e5,l=[{path:"/experiences/:id",pageName:o.a.PdpExperience,exact:!0},{path:"/rooms/plus/:id",pageName:o.a.PdpHomeSelect,exact:!0},{path:"/rooms/:id",pageName:o.a.PdpHomeMarketplace,exact:!0},{path:"/s/guidebooks",pageName:o.a.Guidebook,exact:!0},{path:"/s/:string",pageName:o.a.SearchResults,exact:!0}];function p(t){var e=l.find(function(e){return Object(r.matchPath)(t,e)});return e?e.pageName:null}function m(e){return c()(e).pathname}function h(e){return p(t=m(e))||i()(u+t);var t}function v(e,t){var a=m(e);p(a)||i()(u+a,t,{expires:d})}},RlHG:function(e,a,n){"use strict";(function(r){var e=n("j/eu"),s=n.n(e),c=n("sl/x"),u=n("lVss"),d=n("r5zi"),o="Time to AirbnbInteractive",t=function(){function e(){this.pageTransitionStart=void 0,this.history=void 0,this.unlistenHistory=void 0,this.historyCallback=void 0,this.lastLoggedPathname=void 0}var t=e.prototype;return t.setHistoryListener=function(e,t){this.history||(this.history=e,this.unlistenHistory=e.listen(this.onHistoryChange.bind(this)),void 0===this.lastLoggedPathname&&this.history.location&&(this.lastLoggedPathname=this.history.location.pathname)),t&&t!==this.historyCallback&&(this.historyCallback=t)},t.onHistoryChange=function(e,t){this.historyCallback&&this.historyCallback(e,t)},t.logImpression=function(e){var a=e.universalPageName,n=e.eventData,i=e.eventDataSchema,r=e.impressionUuid,o=e.pageRequestMethod;Object(d.b)(!!this.pageTransitionStart).then(function(e){var t={schema:c.UniversalPageImpressionEvent,event_data:{page_name:a,referrer:document.referrer||"unknown",page_request_method:o||e,event_data:n,event_data_schema:i,impression_uuid:r,navigation_type:Object(u.d)(),url:document.location.href}};s.a.logJitneyEvent(t)})},t.logAirbnbInteractive=function(e){var t=e.tti,a=r.window&&Object(u.b)();a&&a.timing&&a.timing.requestStart&&(t||(this.pageTransitionStart&&(this.pageTransitionStart.doNotOverrwiteUntilLogged=!1),a.getEntriesByName&&0<a.getEntriesByName("client side route","mark").length?a.measure(o,"client side route"):a.getEntriesByName&&0===a.getEntriesByName(o,"measure").length&&a.measure(o),"function"==typeof a.clearMarks&&a.clearMarks("client side route")))},t.logStartPageTransition=function(e){var t=e.universalPageName,a=e.doNotOverrwiteUntilLogged;if(r.window){var n=r.window&&Object(u.b)();if(this.pageTransitionStart&&this.pageTransitionStart.doNotOverrwiteUntilLogged||(this.history&&this.history.location&&(this.lastLoggedPathname=this.history.location.pathname),this.pageTransitionStart={doNotOverrwiteUntilLogged:a,valid:!0,initialRoute:t,startTime:Object(u.e)()},n&&("function"==typeof n.clearMarks&&"function"==typeof n.clearMeasures&&(n.clearMarks("client side route"),n.clearMarks("core_execution_start"),n.clearMarks("core_execution_end"),n.clearMarks("common_execution_start"),n.clearMarks("common_execution_end"),n.clearMarks("spa_execution_start"),n.clearMarks("spa_execution_end"),n.clearMarks("component_render_start"),n.clearMarks("component_render_end"),n.clearMarks("with_airbnb_interactive_did_mount"),n.clearMeasures(o)),n.mark("client side route"))),n&&n.clearResourceTimings){var i=r.window.document;void 0!==i&&"complete"===i.readyState&&n.clearResourceTimings()}}},t.hasMovedToNewPage=function(e,t,a){return"POP"===t||"PUSH"===t||!!a&&"REPLACE"===t&&e.pathname!==this.lastLoggedPathname},e}();a.a=new t}).call(this,n("cNzE"))},jytM:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return i});var n="validated-airbnb-interactive",i="never-interactive"},uExZ:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a("xk4V"),r=a.n(n),i=a("8dvS"),o=a.n(i),s=a("64m5"),c=0,u=null;function d(e){if(e-c<1800)return 1;var t=o()("jitney_client_session_id"),a=o()("jitney_client_session_created_at"),n=o()("jitney_client_session_updated_at");return(u=t)&&a&&n&&e-parseInt(a,10)<86400&&e-parseInt(n,10)<1800}function l(){var e,t,a,n,i=parseInt((new Date).getTime()/1e3,10);return d(i)?(n=i,requestIdleCallback(function(){o()("jitney_client_session_updated_at",n,{path:"/",domain:Object(s.b)()})}),c=n):(e=i,t=Object(s.b)(),a=r()(),o()("jitney_client_session_id",a,{path:"/",domain:t}),o()("jitney_client_session_created_at",e,{path:"/",domain:t}),o()("jitney_client_session_updated_at",e,{path:"/",domain:t}),c=e,u=a),u}},uNaZ:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"a",function(){return u});var m,n=a("17x9"),i=a.n(n),h=a("q1tI"),v=a.n(h),r=a("xk4V"),g=a.n(r),o=a("j/eu"),f=a.n(o),b=a("GtZL"),P=a("8jB+"),s=(a("9pTB"),a("T4Uw")),y=a.n(s),w=a("vkc8"),_=a("uExZ"),I=a("GS5Z"),U=a("lVss"),N=a("RlHG"),S=a("jytM"),T=a("4OSB"),k=a("F52i"),j=a("lqUL"),c={isInteractive:i.a.bool};function u(e){var i=e.testIfInteractive,r=e.buildEventDataFromProps,o=e.eventDataSchema,t=e.trackReplaceNavigationsToNewPathnames,s=void 0!==t&&t,a=e.skipSettingIsInteractive,c=void 0!==a&&a,n=e.wasEverInteractiveOverride,u=void 0===n?function(){return!1}:n,d=e.universalPageName,l=e.ignorePathnameUpdate,p=e.includeHistoryUpdate;if(!d)throw new Error("withPagePerformanceScore: No page name provided.");if("function"!=typeof d&&!Object.values(b.a).includes(d))throw new Error("withPagePerformanceScore: Invalid page name: ".concat(d,"."));if(r&&!o)throw new Error("withPagePerformanceScore: You must supply an event data schema if you supply an event data function.");return function(n){var e=function(a){function e(e){var n;(n=a.call(this,e)||this).handleNewPageMount=function(){var e=n.props.history;var t=Object(_.a)();f.a.addContext({client_session_id:t}),Object(I.b)(window.document.URL,n.evaluatedUniversalPageName);var a=n.generateEventData();f.a.setImpressionMetadata({eventDataSchema:n.evaluatedEventDataSchema,initialEventData:a,impressionUuid:n.impressionUuid}),N.a.logImpression({universalPageName:n.evaluatedUniversalPageName,eventData:a,eventDataSchema:n.evaluatedEventDataSchema,impressionUuid:n.impressionUuid}),e&&N.a.setHistoryListener(e,function(e,t){if(N.a.hasMovedToNewPage(e,t,s)){if(n.pageTransitionAcknowledgedByRender)return void(n.pageTransitionAcknowledgedByRender=!1);N.a.logStartPageTransition({universalPageName:n.evaluatedUniversalPageName}),n.isInPageTransition=!0}else Object(I.b)(window.document.URL,n.evaluatedUniversalPageName)}),n.logIfInteractive(),n.timestampOfRenderTimeoutID=setTimeout(function(){var e={universalPageName:n.evaluatedUniversalPageName,impressionUuid:n.impressionUuid,timestampOfFCP:Object(U.b)().now()};j.a.updateCurrentRecorderWithHOCProps(e)}),"function"==typeof n.ignorePathnameUpdate&&j.a.setIgnorePathnameUpdate(n.ignorePathnameUpdate),"function"==typeof n.includeHistoryUpdate&&j.a.setIncludeHistoryUpdate(n.includeHistoryUpdate)},n.state={isInteractive:!1},n.suppliedUniversalPageName=d,n.eventDataSchema=o,n.buildEventDataFromProps=r,n.evaluatedUniversalPageName=Object(T.b)(d,e),n.evaluatedEventDataSchema=Object(T.a)(o,e),n.isInPageTransition=!1,n.wasSetInteractive=!1,n.timestampOfInteractivity=null,n.previousPathname=e.location&&e.location.pathname,n.pageTransitionAcknowledgedByRender=!1,n.impressionUuid=g()();var t=y.a.get("api_logging_context");if(n.bootstrappedApiLoggingContext=void 0,n.clearRavenInit=null,n.ignorePathnameUpdate=l,n.includeHistoryUpdate=p,t)try{"object"===babelHelpers.typeof(t)?n.bootstrappedApiLoggingContext=t:"string"==typeof t&&(n.bootstrappedApiLoggingContext=JSON.parse(t))}catch(e){f.a.logJitneyEvent({schema:P.a,event_data:{payload:t,impression_uuid:n.impressionUuid}})}return n.logIfInteractive=n.logIfInteractive.bind(babelHelpers.assertThisInitialized(n)),n.handlePageTransition=n.handlePageTransition.bind(babelHelpers.assertThisInitialized(n)),n.generateEventData=n.generateEventData.bind(babelHelpers.assertThisInitialized(n)),n.setContextForPage=n.setContextForPage.bind(babelHelpers.assertThisInitialized(n)),n.setContextForPage(),n}babelHelpers.inheritsLoose(e,a);var t=e.prototype;return t.componentDidMount=function(){window.performance&&"function"==typeof window.performance.mark&&window.performance.mark(k.c),this.handleNewPageMount()},t.componentDidUpdate=function(e){this.logIfInteractive(e)},t.componentWillUnmount=function(){this.wasSetInteractive||u(this.props)||(this.timestampOfInteractivity=null,N.a.logAirbnbInteractive({methodology:S.a,universalPageName:this.evaluatedUniversalPageName,eventData:this.generateEventData(),eventDataSchema:this.evaluatedEventDataSchema,impressionUuid:this.impressionUuid})),this.timeout&&window.clearTimeout(this.timeout),this.clearRavenInit&&this.clearRavenInit(),this.timestampOfRenderTimeoutID&&clearTimeout(this.timestampOfRenderTimeoutID),j.a.clearIgnorePathnameUpdate(),j.a.clearIncludeHistoryUpdate()},t.setContextForPage=function(){var t=this;this.clearRavenInit||(this.clearRavenInit=Object(w.c)(function(e){e.setTagsContext({universalPageName:t.evaluatedUniversalPageName})})),f.a.addContext({page_name:this.evaluatedUniversalPageName,impression_uuid:this.impressionUuid}),m&&f.a.addContext({previous_page_name:m}),m=this.evaluatedUniversalPageName},t.logIfInteractive=function(e){var t=this,a=0<arguments.length&&void 0!==e?e:{},n=this.state.isInteractive;this.wasSetInteractive||i&&!i(this.props,a)||(this.wasSetInteractive=!0,window.performance&&"function"==typeof window.performance.mark&&window.performance.mark("with_airbnb_interactive_did_mount"),this.timeout=setTimeout(function(){t.timestampOfInteractivity=Object(U.b)().now(),N.a.logAirbnbInteractive({methodology:S.b,universalPageName:t.evaluatedUniversalPageName,eventData:t.generateEventData(),eventDataSchema:t.evaluatedEventDataSchema,impressionUuid:t.impressionUuid}),t.timeout=setTimeout(function(){t.timeout=null,n||c||t.setState({isInteractive:!0})})}))},t.handlePageTransition=function(){this.isInPageTransition=!1,this.previousPathname=this.props.location&&this.props.location.pathname,this.timestampOfInteractivity=null,this.wasSetInteractive=!1,this.evaluatedUniversalPageName=Object(T.b)(d,this.props),this.evaluatedEventDataSchema=Object(T.a)(o,this.props),this.impressionUuid=g()(),this.setContextForPage(),f.a.setImpressionMetadata({eventDataSchema:this.evaluatedEventDataSchema,initialEventData:this.generateEventData(),impressionUuid:this.impressionUuid}),this.handleNewPageMount()},t.generateEventData=function(){var e=r&&r(this.props);return!(!e&&!this.bootstrappedApiLoggingContext)&&babelHelpers.objectSpread({},e,{},this.bootstrappedApiLoggingContext)},t.render=function(){var e=this.props,t=e.history,a=e.location;return this.isInPageTransition&&this.handlePageTransition(),a&&t&&this.previousPathname!==a.pathname&&(this.previousPathname=a.pathname,N.a.hasMovedToNewPage(a,t.action,s)?(N.a.logStartPageTransition({universalPageName:this.evaluatedUniversalPageName}),this.handlePageTransition(),this.pageTransitionAcknowledgedByRender=!0):Object(I.b)(window.document.URL,this.evaluatedUniversalPageName)),v.a.createElement(n,babelHelpers.extends({},this.props,{isInteractive:this.state.isInteractive}))},e}(h.Component),t=n.displayName||n.name||"Component";return n.propTypes,n.defaultProps&&(e.defaultProps=babelHelpers.objectSpread({},n.defaultProps)),e.displayName="withPagePerformanceScore(".concat(t,")"),e}}}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/8de2-b291bd41.js.map