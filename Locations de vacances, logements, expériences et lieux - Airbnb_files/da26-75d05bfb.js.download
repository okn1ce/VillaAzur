(window.webpackJsonp=window.webpackJsonp||[]).push([["da26"],{AKUS:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("q1tI");function s(e){var o=Object(i.useRef)(null);return{onBlur:Object(i.useCallback)(function(){function n(e){var t;i=!0,s=!(null===(t=o.current)||void 0===t||!t.contains(e.target)),document.removeEventListener("focus",n,!0)}var i=!1,s=!1;document.addEventListener("focus",n,!0),requestAnimationFrame(function(){requestAnimationFrame(function(){i||document.removeEventListener("focus",n,!0),s||e()})})},[e]),ref:o}}},ORPV:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("q1tI"),a=n.n(i),u=n("AKUS");function s(e){var t=e.onOutsideFocus,n=e.children,i=Object(u.a)(t),s=i.ref,o=i.onBlur;return a.a.createElement("div",{ref:s,onBlur:o},n)}},Q2fV:function(e,t,n){"use strict";function i(e){return{"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-describedby":e["aria-describedby"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],autoComplete:"off",autoCorrect:"off",spellCheck:!1,id:e.id,onChange:e.onChange,onFocus:e.onFocus,onKeyUp:e.onKeyUp,onKeyDown:e.onKeyDown,role:e.role,ref:e.refForFocus,value:e.value}}n.d(t,"a",function(){return i})},RnRr:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return d});var i=n("cVPA"),o=n.n(i),a=n("2/jW"),u=n("QD4+"),r={LOCATIONS_NEARBY:"locationsNearby",NEARBY:"nearby",POIS_IN_LOCATION:"poisInLocation",PREDICTIONS:"predictions",REFINEMENT_SECTIONS:"refinementSuggestions",SAVED_SEARCHES:"savedSearches",THINGS_TO_DO_NEARBY:"thingsToDoNearby",THINGS_TO_DO_IN_LOCATION:"thingsToDoInLocation"},c={PILL:"PILL",ROW:"ROW"};function s(e){if(!e||!e.length)return null;var t,n,i=e.map(function(e){return{key:"".concat(e.type,"_").concat(e.title),isSelected:e.is_selected,name:e.name,searchParams:{refinement_paths:Object(a.a)(e,"search_params.refinement_paths"),query:Object(a.a)(e,"search_params.query"),location:Object(a.a)(e,"search_params.location")},searchType:u.n,title:e.title}}),s=Object(a.a)(e[0],"search_params.location");return{results:i,id:r.REFINEMENT_SECTIONS,displayType:c.PILL,title:s?o.a.t("mt.explore.autocomplete.Results section title for location refinement suggestions",{location:(t=String(s||""),-1<(n=t.indexOf(","))?t.slice(0,n):t)}):o.a.t("mt.explore.autocomplete.Results sections title for refinement suggestions")}}function l(e){return{id:r.SAVED_SEARCHES,title:o.a.t("mt.explore.autocomplete.Results sections title for recent searches"),results:e}}function p(e){return{id:r.PREDICTIONS,results:e}}function d(){return{id:r.NEARBY,results:[{key:"nearby",name:o.a.t("autosuggestions.nearby"),prefix:"description_map_pin",searchType:u.i}]}}},UfFQ:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("u9af"),s=n.n(i);function o(e){return e?s()(e,"name")?e.name:s()(e,"location")?e.location:s()(e,"searchParams")&&s()(e.searchParams,"location")?e.searchParams.location:"":""}},cV4d:function(e,t,n){"use strict";var i=n("q1tI"),s=n.n(i),o=n("17x9"),a=n.n(o),u=n("u9af"),d=n.n(u),r=n("cVPA"),c=n.n(r),l=n("ORPV"),p=n("2jR3"),g=n("q7UE"),h=(a.a.string.isRequired,a.a.number,a.a.any,a.a.bool,a.a.func,a.a.func,a.a.func,a.a.func,a.a.func,{defaultActiveIndex:-1,defaultSelectedSuggestion:null,defaultIsOpen:void 0,onChange:function(){},onSelect:function(){},onStateChange:function(){},onOutsideClick:void 0,suggestionToString:function(e){return e}});function I(){return{"aria-atomic":!0,"aria-live":"polite",role:"status"}}function f(e){e.key===g.b.ENTER&&e.preventDefault()}var S=function(n){function e(e){var t;return(t=n.call(this,e)||this).id="Koan-".concat(e.id),t.state={activeIndex:e.defaultActiveIndex,selectedSuggestion:e.defaultSelectedSuggestion,isOpen:!!e.defaultIsOpen,isFocused:!1,userInput:null},t.activeSuggestion=null,t.getAriaDescriptionId=t.getAriaDescriptionId.bind(babelHelpers.assertThisInitialized(t)),t.getInputProps=t.getInputProps.bind(babelHelpers.assertThisInitialized(t)),t.getInputValue=t.getInputValue.bind(babelHelpers.assertThisInitialized(t)),t.getSuggestionProps=t.getSuggestionProps.bind(babelHelpers.assertThisInitialized(t)),t.getDropdownProps=t.getDropdownProps.bind(babelHelpers.assertThisInitialized(t)),t.openDropdown=t.openDropdown.bind(babelHelpers.assertThisInitialized(t)),t.closeDropdown=t.closeDropdown.bind(babelHelpers.assertThisInitialized(t)),t.selectSuggestion=t.selectSuggestion.bind(babelHelpers.assertThisInitialized(t)),t.selectActiveSuggestion=t.selectActiveSuggestion.bind(babelHelpers.assertThisInitialized(t)),t.clearInput=t.clearInput.bind(babelHelpers.assertThisInitialized(t)),t.handleInputChange=t.handleInputChange.bind(babelHelpers.assertThisInitialized(t)),t.handleInputFocus=t.handleInputFocus.bind(babelHelpers.assertThisInitialized(t)),t.handleInputKeyUp=t.handleInputKeyUp.bind(babelHelpers.assertThisInitialized(t)),t.handleMouseLeave=t.handleMouseLeave.bind(babelHelpers.assertThisInitialized(t)),t.handleSuggestionKeyUp=t.handleSuggestionKeyUp.bind(babelHelpers.assertThisInitialized(t)),t.handleOutsideFocus=t.handleOutsideFocus.bind(babelHelpers.assertThisInitialized(t)),t.setInputRef=t.setInputRef.bind(babelHelpers.assertThisInitialized(t)),t}babelHelpers.inheritsLoose(e,n);var t=e.prototype;return t.UNSAFE_componentWillReceiveProps=function(e){var t=e.defaultActiveIndex,n=e.defaultSelectedSuggestion,i=babelHelpers.objectWithoutProperties(e,["defaultActiveIndex","defaultSelectedSuggestion"]);if(n&&n!==this.props.defaultSelectedSuggestion&&n!==this.state.selectedSuggestion){var s=i.defaultIsOpen;this.setState({isOpen:!!s,activeIndex:t,selectedSuggestion:n,userInput:null})}!n&&this.props.defaultSelectedSuggestion&&this.props.defaultSelectedSuggestion===this.state.selectedSuggestion&&this.setState({selectedSuggestion:null}),t!==this.props.defaultActiveIndex&&this.state.activeIndex===this.props.defaultActiveIndex&&this.setState({activeIndex:t})},t.componentDidMount=function(){var e,t=null!=(e=this)&&null!=(e=e.inputRef)?e.value:e;t&&""!==t&&this.setState({userInput:t})},t.componentWillUnmount=function(){this.timeout&&clearTimeout(this.timeout)},t.getSuggestionElementId=function(e){return"".concat(this.id,"__option-").concat(e)},t.getInputValue=function(e,t){var n=(0<arguments.length&&void 0!==e?e:{}).focusedInputValue,i=1<arguments.length&&void 0!==t?t:this.state,s=i.userInput,o=i.selectedSuggestion,a=i.isFocused,u=this.props.suggestionToString;if(this.activeSuggestion)return this.activeSuggestion;if(null!=s)return s;if(a&&null!=n)return n;if(null==o)return"";var r=u(o);return null!=r?r:""},t.getInputProps=function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.focusedInputValue,i=t.id,s=this.state,o=s.activeIndex,a=s.isFocused,u=s.isOpen;this.inputId=this.inputId||i||"".concat(this.id,"__input");var r=this.getInputValue({focusedInputValue:n});return{"aria-activedescendant":u&&0<=o?this.getSuggestionElementId(o):void 0,"aria-autocomplete":"list","aria-expanded":u,"aria-owns":u?this.getDropdownId():void 0,id:this.inputId,isFocused:a,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onKeyUp:this.handleInputKeyUp,onKeyDown:f,refForFocus:this.setInputRef,role:"combobox",value:r}},t.getDropdownId=function(){return"".concat(this.id,"__listbox")},t.getDropdownProps=function(){return{"aria-label":c.a.t("search.voiceover.VoiceOver_description_for_list_of_search_suggestions"),id:this.getDropdownId(),onMouseLeave:this.handleMouseLeave}},t.getAriaDescriptionId=function(){return"".concat(this.id,"__description")},t.getSuggestionProps=function(e){var t=this,n=e.suggestion;n||Object(p.a)(new Error("suggestion is a required prop of getSuggestionProps"));var i=this.state.activeIndex;this.suggestions.push(n);function s(){o!==t.state.activeIndex&&t.setActiveIndex(o,{type:g.a.SUGGESTION_MOUSE_ENTER})}var o=this.suggestions.length-1;return{"aria-selected":i===o,id:this.getSuggestionElementId(o),isActive:i===o,onClick:function(e){e.preventDefault(),t.selectSuggestion(n,{type:g.a.CLICK})},onFocus:s,onKeyUp:this.handleSuggestionKeyUp,onMouseEnter:s,role:"option",tabIndex:-1}},t.getStateAndHelpers=function(){var e=this.state,t=e.activeIndex,n=e.isFocused,i=e.isOpen,s=e.selectedSuggestion,o=e.userInput,a=this.getAriaDescriptionId,u=this.getDropdownProps,r=this.getInputProps,c=this.getInputValue,l=this.getSuggestionProps,p=this.openDropdown,d=this.closeDropdown,g=this.selectSuggestion,h=this.selectActiveSuggestion,f=this.clearInput,S=this.props.suggestionToString;return{getAriaDescriptionId:a,getDropdownProps:u,getInputProps:r,getInputValue:c,getStatusProps:I,getSuggestionProps:l,openDropdown:p,closeDropdown:d,selectSuggestion:g,selectActiveSuggestion:h,clearInput:f,id:this.id,activeIndex:t,isFocused:n,isOpen:i,userInput:o,selectedSuggestion:s,suggestionToString:S}},t.setActiveIndex=function(e,t){this.internalSetState(babelHelpers.objectSpread({activeIndex:e},t))},t.setInputRef=function(e){this.inputRef=e},t.getSuggestionCount=function(){return this.suggestions.length},t.handleInputChange=function(e){var t="string"==typeof e?e:e&&e.target&&e.target.value;null!=this.activeSuggestion&&(this.activeSuggestion=null),this.internalSetState({type:g.a.INPUT_CHANGE,isOpen:!0,userInput:t})},t.handleInputFocus=function(){var t=this;this.timeout=setTimeout(function(){if(t.timeout=null,t.inputRef&&"function"==typeof t.inputRef.setSelectionRange){var e=t.inputRef.value&&t.inputRef.value.length||0;t.inputRef.setSelectionRange(e,e)}t.internalSetState({isOpen:!0,type:g.a.INPUT_FOCUS,isFocused:!0})})},t.handleInputKeyUp=function(e){var t=e.key;t===g.b.ARROW_DOWN?this.handleKeyArrowDown(e):t===g.b.ARROW_UP?this.handleKeyArrowUp(e):t===g.b.ENTER?this.handleKeyEnter(e):t===g.b.ESCAPE&&this.handleKeyEscape(e)},t.handleMouseLeave=function(){var e=this.props.defaultActiveIndex;this.internalSetState({activeIndex:e,type:g.a.MOUSE_LEAVE})},t.handleSuggestionKeyUp=function(e){e.key===g.b.ENTER&&this.handleKeyEnter(e)},t.handleKeyArrowDown=function(e){e.preventDefault(),this.state.isOpen?this.moveActiveIndexByKey(1,{type:g.a.KEY_ARROW_DOWN}):this.internalSetState({type:g.a.KEY_ARROW_DOWN,isOpen:!0})},t.handleKeyArrowUp=function(e){e.preventDefault(),this.state.isOpen&&this.moveActiveIndexByKey(-1,{type:g.a.KEY_ARROW_UP})},t.handleKeyEnter=function(e){e.preventDefault();var t=this.state,n=t.activeIndex,i=t.userInput;(-1===n||0===this.getSuggestionCount())&&i&&0<i.length?this.handleSubmit():this.selectActiveSuggestion({type:g.a.KEY_ENTER})},t.handleKeyEscape=function(e){var t=this.props.defaultActiveIndex;e.preventDefault(),this.activeSuggestion=null,this.internalSetState({type:g.a.KEY_ESC,isOpen:!1,activeIndex:t})},t.moveActiveIndexByKey=function(e,t){var n=this.getSuggestionCount()-1;if(!(n<0)){var i=this.props.suggestionToString,s=this.state.activeIndex+e;s<-1?s=n:n<s&&(s=-1),this.activeSuggestion=-1===s?null:i(this.suggestions[s]),this.internalSetState(babelHelpers.objectSpread({activeIndex:s},t))}},t.selectActiveSuggestion=function(e){var t=this.props.defaultActiveIndex,n=this.state.activeIndex,i=-1===n?t:n,s=this.suggestions[i];null!=s&&this.selectSuggestion(s,e)},t.handleSubmit=function(){var e=this.props.defaultActiveIndex;this.internalSetState({type:g.a.INPUT_SUBMIT,isOpen:!1,activeIndex:e})},t.selectSuggestion=function(e,t){var n=this.props,i=n.defaultActiveIndex,s=n.suggestionToString;this.internalSetState(babelHelpers.objectSpread({isOpen:!1,activeIndex:i,selectedSuggestion:e,inputValue:s(e),userInput:s(e)},t))},t.clearInput=function(e){var t=this;this.isClearing=!0,this.internalSetState({userInput:"",inputValue:"",selectedSuggestion:this.props.defaultSelectedSuggestion,type:g.a.INPUT_CLEAR},function(){t.timeout=setTimeout(function(){t.timeout=null,t.isClearing=!1,t.activeSuggestion=null,t.inputRef&&"function"==typeof t.inputRef.focus&&t.inputRef.focus(),"function"==typeof e&&e()})})},t.internalSetState=function(e,t){var n,i,u,r=this,c="function"==typeof e,l={},p=!1;return this.setState(function(s){var o={},a=c?e(s):e;return(n=d()(a,"selectedSuggestion")&&a.selectedSuggestion!==r.props.defaultSelectedSuggestion)&&(i=a.selectedSuggestion,u={interactionType:a.type,activeIndex:s.activeIndex,userInput:s.userInput},p=n&&i!==s.selectedSuggestion),Object.entries(a).forEach(function(e){var t=babelHelpers.slicedToArray(e,2),n=t[0],i=t[1];s[n]!==i&&(l[n]=i),"userInput"===n&&(l.inputValue=r.getInputValue(void 0,a)),"type"!==n&&("isOpen"===n&&null!=r.props.defaultIsOpen||(o[n]=i))}),o},function(){"function"==typeof t&&t(),r.props.onStateChange(l,r.getStateAndHelpers()),n&&r.props.onSelect(i,u,r.getStateAndHelpers()),p&&r.props.onChange(i,u,r.getStateAndHelpers())})},t.handleOutsideFocus=function(){var e=this.props.onOutsideClick,t=this.state.userInput;this.isClearing||("function"!=typeof e?this.closeDropdown(babelHelpers.objectSpread({type:g.a.INPUT_BLUR},""===t?{userInput:null}:null)):e(this.getStateAndHelpers()))},t.openDropdown=function(){this.internalSetState({isOpen:!0})},t.closeDropdown=function(e){var t=this.props.defaultActiveIndex;this.activeSuggestion=null,this.internalSetState(babelHelpers.objectSpread({isOpen:!1,isFocused:!1,activeIndex:t},e))},t.clearSuggestions=function(){this.suggestions=[]},t.reset=function(e,t){this.internalSetState(babelHelpers.objectSpread({isOpen:!1,activeIndex:this.props.defaultActiveIndex,userInput:null},e),t)},t.render=function(){return this.clearSuggestions(),s.a.createElement(l.a,{onOutsideFocus:this.handleOutsideFocus},this.props.render(this.getStateAndHelpers()))},e}(i.Component);S.defaultProps=h,t.a=S},q7UE:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o});var i={CLICK:"click",SELECT_SUGGESTION:"select_suggestion",KEY_ENTER:"key_enter",KEY_ESC:"key_esc",KEY_ARROW_UP:"key_arrow_up",KEY_ARROW_DOWN:"key_arrow_down",SUGGESTION_MOUSE_ENTER:"suggestion_mouse_enter",INPUT_FOCUS:"input_focus",INPUT_BLUR:"input_blur",INPUT_CHANGE:"input_change",INPUT_CLEAR:"input_clear",INPUT_SUBMIT:"input_submit",CLEAR_BUTTON:"clear_button",CLICK_BUTTON:"click_button",MOUSE_LEAVE:"mouse_leave"},s={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape"},o={LOCATION:"LOCATION",PDP_NAV:"PDP_NAV",SITE_NAV:"SITE_NAV",SUGGESTED_POIS:"SUGGESTED_POIS",SCENARIOS:"SCENARIOS"}},rLrX:function(e,t,n){"use strict";function i(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return t&&t.results&&t.results.length?e+t.results.length:e},0)}n.d(t,"a",function(){return i})}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/da26-d716ff22.js.map