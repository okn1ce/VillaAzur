(window.webpackJsonp=window.webpackJsonp||[]).push([["c760"],{"/ykl":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("T4Uw"),i=n.n(r),o="china-guest-loop";function a(){return i.a.get(o)}},F52i:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});var r="FMP-target",i="hydrate-meaningful-element",o="hydrate-performance-hoc"},ItxH:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lx5E");function i(){switch(0,document.visibilityState){case"visible":return r.a.Visible;case"hidden":return r.a.Hidden;case"prerender":return r.a.Prerender;default:return r.a.Unknown}}},iljR:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var d={transfer_size:0,encodedbody_size:0,decodedbody_size:0,count:0,cache_hit_ratio:0};function r(e){var t,n,r,i,o,a=e.resources;if(!(0===a.length||0<a.length&&void 0===a[0].decodedBodySize)){var s,c,u=["link","img","css","script","other"],m=[{type:"css",initiatorList:["link"],regex:/.+(muscache|localhost).+\.css(\?.*)?$/},{type:"img",initiatorList:["img","css"],regex:/.+(muscache|localhost).+(jpg|png|gif|webp)(\?.*)?$/},{type:"js",category:"airbnb",initiatorList:["link","script"],regex:/.+(muscache|localhost).+\.m?(js|bundle)(\?.*)?$/},{type:"js",category:"third_party",initiatorList:["link","script"],regex:/^((?!(muscache|localhost)).)*\.m?js(\?.*)?$/},{type:"font",initiatorList:["link","css","other"],regex:/^.+(muscache|localhost).+\.woff2(\?.*)?$/}],f={css:babelHelpers.objectSpread({},d),js:{airbnb:babelHelpers.objectSpread({},d),third_party:babelHelpers.objectSpread({},d)},img:babelHelpers.objectSpread({},d),font:babelHelpers.objectSpread({},d)};if(a.filter(function(e){var t=e.initiatorType;return u.includes(t)}).forEach(function(e){var s=e.name,c=e.initiatorType,u=e.decodedBodySize,d=e.transferSize,l=e.encodedBodySize;m.find(function(e){var t=e.type,n=e.initiatorList,r=e.regex,i=e.category;if(n.includes(c)&&s.match(r)){var o=i?f[t][i]:f[t],a=o.count*o.cache_hit_ratio+(0===d?1:0);return o.count+=1,o.cache_hit_ratio=a?a/o.count:0,o.transfer_size+=d,o.encodedbody_size+=l,o.decodedbody_size+=u,!0}return!1})}),f.css=null!==(t=f.css)&&void 0!==t&&t.count?f.css:void 0,null!==(n=f.js)&&void 0!==n&&(null!==(r=n.airbnb)&&void 0!==r&&r.count))0===(null===(s=f.js)||void 0===s||null===(c=s.third_party)||void 0===c?void 0:c.count)&&(f.js.third_party.cache_hit_ratio=1);else f.js=void 0;if(f.img=null!==(i=f.img)&&void 0!==i&&i.count?f.img:void 0,f.font=null!==(o=f.font)&&void 0!==o&&o.count?f.font:void 0,Object.values(f).find(function(e){return!!e}))return f}}},lVss:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return u});var r=n("IzZ0");function o(){var t={now:function(){return Date.now()},mark:function(){},measure:function(){},getEntriesByName:function(){return[]},getEntriesByType:function(){return[]},clearMarks:function(){},clearMeasures:function(){},timing:{connectEnd:0,connectStart:0,domComplete:0,domContentLoadedEventEnd:0,domContentLoadedEventStart:0,domInteractive:0,domLoading:0,domainLookupEnd:0,domainLookupStart:0,fetchStart:0,loadEventEnd:0,loadEventStart:0,navigationStart:0,redirectEnd:0,redirectStart:0,requestStart:0,responseEnd:0,responseStart:0,secureConnectionStart:0,unloadEventEnd:0,unloadEventStart:0,toJSON:function(){}},isMocked:!0},n=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||void 0;if(void 0===n)return t;var e=n.now||n.mozNow||n.msNow||n.webkitNow;return e&&(n.now||(n.now=e)),Object.keys(t).forEach(function(e){e in n||"function"!=typeof t[e]||(n[e]=t[e])}),n}var i={0:r.a.navigate,1:r.a.reload,2:r.a.back_forward},a=o();function s(){var e,t=o();if(t.getEntriesByType){var n=t.getEntriesByType("navigation")[0];if(n)return r.a[n.type]}return"number"==typeof(null==t||null===(e=t.navigation)||void 0===e?void 0:e.type)&&i[t.navigation.type]||r.a.unknown}function c(){var e=o();return e.timing&&e.timing.navigationStart?e.timing.navigationStart+e.now():Date.now()}function u(e,t,n){var r=o();try{r.measure(e,t,n)}catch(e){return null}r.clearMarks(t),r.clearMarks(n),setTimeout(function(){r.clearMeasures(e)});var i=r.getEntriesByName(e)[0];return i?i.duration:null}},lqUL:function(e,t,n){"use strict";var r=n("j/eu"),o=n.n(r),a=n("Y195"),s=n("ANar"),c=n("acAX"),u=n("lVss"),d=n("wO/7");t.a=new function(){var i=this;this.performanceRecorders=[],this.pauseInfo={pauseStart:0,pauseDuration:0,pausePending:!1},this.currentPathname="",this.currentSearch="",this.updateCurrentRecorderWithHOCProps=function(e){var t=i.performanceRecorders[i.performanceRecorders.length-1];t&&(t.universalPageName=e.universalPageName,t.impressionUuid=e.impressionUuid,t.isDirectRequest||t.setTTFCP(e.timestampOfFCP))},this.handleNewHistory=function(e){e.listen(i.onHistoryChange)},this.setIgnorePathnameUpdate=function(e){i.ignorePathnameUpdate=e},this.clearIgnorePathnameUpdate=function(){i.ignorePathnameUpdate=void 0},this.setIncludeHistoryUpdate=function(e){i.includeHistoryUpdate=e},this.clearIncludeHistoryUpdate=function(){i.includeHistoryUpdate=void 0},this.startNextPageTimer=function(){i.nextPageCreatedAt=Object(u.b)().now()},this.pauseNextPageTimer=function(){i.pauseInfo.pausePending=!0,i.pauseInfo.pauseStart=Object(u.b)().now()},this.resumeNextPageTimer=function(){i.pauseInfo.pausePending=!1,i.pauseInfo.pauseDuration+=Object(u.b)().now()-i.pauseInfo.pauseStart,i.pauseInfo.pauseStart=0},this.createNewRecorder=function(e){var t=e.isDirectRequest,n=i.performanceRecorders[i.performanceRecorders.length-1];n&&n.retire();var r=i.getNextPageCreatedAt();i.performanceRecorders.push(new d.a({isDirectRequest:t,pageCreatedAt:r}))},this.getNextPageCreatedAt=function(){var e;return i.nextPageCreatedAt&&i.pauseInfo.pauseDuration?e=i.nextPageCreatedAt+i.pauseInfo.pauseDuration:i.pauseInfo.pausePending?(s.a.bump("page_transition_coordinator.page_timer.resume_error",1,"pathname:".concat(window.location.pathname)),e=i.nextPageCreatedAt):i.nextPageCreatedAt&&(e=i.nextPageCreatedAt),i.nextPageCreatedAt=void 0,e},this.onHistoryChange=function(e,t){var n=e.pathname,r=e.search;i.isPageTransition({action:t,prevPathname:i.currentPathname,prevSearch:i.currentSearch,nextPathname:n,nextSearch:r})&&i.createNewRecorder({isDirectRequest:!1}),i.currentPathname=n,i.currentSearch=r},this.isPageTransition=function(e){if("function"==typeof i.includeHistoryUpdate)return i.includeHistoryUpdate(e);var t=e.action,n=e.prevPathname,r=e.nextPathname;return!(!n||!r)&&(n!==r&&(("function"!=typeof i.ignorePathnameUpdate||!i.ignorePathnameUpdate(n,r))&&["POP","PUSH","REPLACE"].includes(t)))},this.flushAllEvents=function(){Object(c.d)()||(i.performanceRecorders.forEach(function(e){e.skipLogging||(e.retired||e.retire(),o.a.queueJitneyEvent({schema:a.a,event_data:{assets:e.assets,page_request_method:e.pageRequestMethod,universal_page_name:e.universalPageName,impression_uuid:e.impressionUuid,ttfcp:e.metrics.ttfcp,ttfmp:e.metrics.ttfmp,fid:e.metrics.fid,tbt:e.metrics.totalBlockingTime,domain_and_path:e.domainAndPath,network_information:e.networkInformation,web_performance_timing:e.webPerformanceTiming,tbt_pre_hydrate:e.metrics.tbtPreHydrate,tbt_post_hydrate:e.metrics.tbtPostHydrate,time_to_hydrate:e.metrics.timeToHydrate,recorder_duration:e.metrics.recorderDuration,time_to_fid:e.metrics.timeToFid,number_of_blocking_tasks:e.metrics.numberOfBlockingTasks,longest_blocking_time:e.metrics.longestBlockingTime,longest_blocking_task_index:e.metrics.longestBlockingTaskIndex}}))}),i.performanceRecorders=[],o.a.getLogger().flushEventQueue())},this.setPageCloseHandlers=function(){window.addEventListener("beforeunload",i.flushAllEvents,!0),window.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&i.flushAllEvents()})},this.currentPathname=window.location.pathname,this.currentSearch=window.location.search,this.createNewRecorder({isDirectRequest:!0}),this.setPageCloseHandlers()}},r5zi:function(e,g,v){"use strict";(function(i){v.d(g,"b",function(){return a}),v.d(g,"c",function(){return s}),v.d(g,"a",function(){return p}),v.d(g,"d",function(){return h});var c,n=v("/+q4"),e=v("8dvS"),u=v.n(e),d=v("nL48"),t=v("T4Uw"),l=v.n(t),m=v("Q/Zp"),f=v("/ykl"),o=v("lVss");function r(){return(void 0===(e=window.navigator)?Promise.resolve(!1):"serviceWorker"in e&&e.serviceWorker.getRegistration?e.serviceWorker.getRegistration("/").then(function(e){return!(!e||!e.active)}):Promise.resolve(!1)).then(function(e){if(!e)return!1;var t=i.window&&Object(o.b)();if(!t||!t.getEntriesByType)return!1;var n=t.getEntriesByType("navigation");if(!n||0===n.length)return!1;var r=n[0].serverTiming;return!(!r||0===r.length)&&0<r.filter(function(e){return"serviceWorker"===e.name}).length}).catch(function(){return!1});var e}function a(t){return r().then(function(e){return t?Promise.resolve(n.a.ClientRouteRequest):e?Promise.resolve(n.a.ServiceWorkerFulfilledRequest):c===d.a.Hit?Promise.resolve(n.a.CDNCached):Promise.resolve(n.a.DirectRequest)})}function s(){return{www_cdn_provider:l.a.get("wwwCdnProvider")||"Unknown"}}function p(){if(window.navigator&&window.navigator.connection){var e=window.navigator.connection;return{effective_type:e.effectiveType,rtt:e.rtt,downlink:e.downlink}}}function h(){if(window.performance&&window.performance.timing){var e=window.performance.timing;return{navigation_start_timestamp_in_ms:e.navigationStart,time_to_redirect_start_in_ms:e.redirectStart,time_to_redirect_end_in_ms:e.redirectEnd,time_to_fetch_start_in_ms:e.fetchStart,time_to_domain_lookup_start_in_ms:e.domainLookupStart,time_to_domain_lookup_end_in_ms:e.domainLookupEnd,time_to_connect_start_in_ms:e.connectStart,time_to_connect_end_in_ms:e.connectEnd,time_to_secure_connection_start_in_ms:e.secureConnectionStart,time_to_request_start_in_ms:e.requestStart,time_to_response_start_in_ms:e.responseStart,time_to_response_end_in_ms:e.responseEnd,time_to_dom_loading_in_ms:e.domLoading,time_to_dom_interactive_in_ms:e.domInteractive,time_to_dom_content_loaded_event_start_in_ms:e.domContentLoadedEventStart,time_to_dom_content_loaded_event_end_in_ms:e.domContentLoadedEventEnd,time_to_dom_complete_in_ms:e.domComplete,time_to_load_event_start_in_ms:e.loadEventStart,time_to_load_event_end_in_ms:e.loadEventEnd}}}(function(){if(!Object(f.a)()){for(var e=u()("cache_state"),t=document.location.pathname,n=t.lastIndexOf("/");-1!==n;){var r=t.slice(0,n);u()("cache_state",-1,{expires:-1,domain:Object(m.a)(),path:"".concat(r,"/")}),n=r.lastIndexOf("/")}if("0"===e)c=d.a.Miss;else if("1"===e)c=d.a.Hit;else{var i=Date.now(),o=(l.a.get("layout-init")||{}).tracking_context,a=void 0===o?null:o;if(a&&a.action&&a.action.includes("app_shell"))return;var s=l.a.get("pageGeneratedAt")||i;c=6e5<i-s?d.a.Hit:d.a.Unknown}}})()}).call(this,v("cNzE"))},"wO/7":function(e,t,n){"use strict";n.d(t,"a",function(){return r});function i(e){return(e?"".concat(Math.round(e).toLocaleString()," ms"):"...").padStart(9," ")}var a=n("lx5E"),s=n("/+q4"),c=n("lVss"),u=n("6Tiy"),d=n("ItxH"),l=n("r5zi"),m=n("iljR"),f=n("F52i");function o(e,t){var n=e.longTasks,r=t.start,i=t.end;return n.filter(function(e){return e.startTime>r&&(!i||e.startTime<i)}).sort(function(e,t){return e.startTime-t.startTime}).map(function(e,t){return{entry:e,index:t}})}function p(e,t){return o(e,t).reduce(function(e,t){return e+t.entry.duration-50},0)}function h(e,t){var n=e.ttfcp;if(void 0!==t)return p(e,{start:void 0===n?0:n,end:t})}function g(e,t){var n=e.ttfcp,r=void 0===n?0:n;if(void 0!==t)return p(e,{start:Math.max(t,r)})}function v(e){var t=e.ttfcp,n=void 0===t?0:t,r=o(e,{start:n});if(0!==r.length)return o(e,{start:n}).reduce(function(e,t){return t.entry.duration>e.entry.duration?t:e},r[0])}function _(e){var t=v(e);if(t)return t.entry.duration-50}var r=function(e){var o=this,t=e.isDirectRequest,n=e.pageCreatedAt;this.networkInformation=Object(l.a)(),this.webPerformanceTiming=babelHelpers.objectSpread({},Object(l.c)(),{},Object(l.d)()),this.initialVisibilityState=Object(d.a)(),this.performance=Object(c.b)(),this.pageRequestMethod=s.a.DirectRequest,this.domainAndPath="".concat(window.location.host).concat(window.location.pathname),this.metrics={longTasks:[],resources:[]},this.retired=!1,this.skipLogging=!1,this.showLogs="string"==typeof Object(u.a)().pps,this.retire=function(){o.retired||(o.retired=!0,o.cleanUpLongTasks(),o.cleanUpResources(),o.metrics.recorderDuration=o.performance.now()-o.createdAt,o.metrics.timeToHydrate=o.calculateTimeToHydrate(),o.hasNecessaryPolyfills()&&window._fmpPolyfill.stopSearchingForFMP())},this.setTTFCP=function(e){o.retired||o.metrics.ttfcp||(o.metrics.ttfcp=e-o.createdAt,o.showLogs&&o.consoleLogMetrics())},this.listenForFCP=function(){window._fcpPolyfill.onFCP(o.setTTFCP)},this.listenForFMP=function(){o.retired||(o.isDirectRequest||(window._fmpPolyfill.refreshHeroElement(),window._fmpPolyfill.checkForFMP()),window._fmpPolyfill.onFMP(o.setTTFMP))},this.setTTFMP=function(e){o.retired||(o.metrics.ttfmp=e-o.createdAt,o.showLogs&&o.consoleLogMetrics())},this.listenForFID=function(){window.perfMetrics.clearFirstInputDelay(),window.perfMetrics.onFirstInputDelay(o.setFID)},this.setFID=function(e,t){if(!o.retired){o.metrics.fid=e;var n=t.timeStamp-o.createdAt;0<=n&&(o.metrics.timeToFid=n),o.showLogs&&o.consoleLogMetrics()}},this.listenForLongTasks=function(){void 0!==window.PerformanceLongTaskTiming&&"undefined"!=typeof PerformanceObserver&&(o.longTaskObserver=new PerformanceObserver(function(e){var t;(t=o.metrics.longTasks).push.apply(t,babelHelpers.toConsumableArray(e.getEntries()))}),o.longTaskObserver.observe({entryTypes:["longtask"]}))},this.listenForResources=function(){"undefined"!=typeof PerformanceObserver&&(o.resourcesObserver=new PerformanceObserver(function(e){var t;(t=o.metrics.resources).push.apply(t,babelHelpers.toConsumableArray(e.getEntries()))}),o.resourcesObserver.observe({entryTypes:["resource"]}))},this.calculateTimeToHydrate=function(){var e=[].concat(babelHelpers.toConsumableArray(o.performance.getEntriesByName(f.c)),babelHelpers.toConsumableArray(o.performance.getEntriesByName(f.b))).filter(function(e){return e.startTime>o.createdAt});if(0!==e.length)return e.reduce(function(e,t){return e.startTime<t.startTime?e:t},e[0]).startTime-o.createdAt},this.cleanUpLongTasks=function(){if(o.longTaskObserver){var e;if("function"==typeof o.longTaskObserver.takeRecords)(e=o.metrics.longTasks).push.apply(e,babelHelpers.toConsumableArray(o.longTaskObserver.takeRecords()));o.metrics.totalBlockingTime=(r=o.metrics,i=r.ttfcp,p(r,{start:void 0===i?0:i})),o.metrics.longestBlockingTime=_(o.metrics),o.metrics.longestBlockingTaskIndex=(t=o.metrics,null===(n=v(t))||void 0===n?void 0:n.index),o.metrics.tbtPreHydrate=h(o.metrics,o.calculateTimeToHydrate()),o.metrics.tbtPostHydrate=g(o.metrics,o.calculateTimeToHydrate()),o.metrics.numberOfBlockingTasks=o.metrics.longTasks.length,o.longTaskObserver.disconnect()}var t,n,r,i},this.cleanUpResources=function(){if(o.resourcesObserver){var e;if("function"==typeof o.resourcesObserver.takeRecords)(e=o.metrics.resources).push.apply(e,babelHelpers.toConsumableArray(o.resourcesObserver.takeRecords()));o.assets=Object(m.a)({resources:o.metrics.resources}),o.resourcesObserver.disconnect()}},this.hasNecessaryPolyfills=function(){return!!(window._fcpPolyfill&&window._fmpPolyfill&&window.perfMetrics)},this.consoleLogMetrics=function(){console.log("Page Performance Score metrics (air/web-pps)\n\nPathname = %c".concat(window.location.pathname,"%c\n  Time To First Contentful Paint      = ").concat(i(o.metrics.ttfcp),"\n  Time To First Meaningful Paint      = ").concat(i(o.metrics.ttfmp),"\n  First Input Delay                   = ").concat(i(o.metrics.fid),"\n  Total Blocking Time                 = (see air/web-pps-tbt)"),"font-weight: bold;","")},this.isDirectRequest=t,this.createdAt=t?0:n||this.performance.now();var r=!t;if(Object(l.b)(r).then(function(e){o.pageRequestMethod=e}),this.initialVisibilityState===a.a.Hidden||!this.hasNecessaryPolyfills())return this.retire(),void(this.skipLogging=!0);this.isDirectRequest&&this.listenForFCP(),this.listenForFMP(),this.listenForFID(),this.listenForLongTasks(),this.listenForResources()}}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/c760-6659e5aa.js.map